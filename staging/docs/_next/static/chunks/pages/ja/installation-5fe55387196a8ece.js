(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{1930:(n,e,t)=>{"use strict";t.r(e),t.d(e,{includes:()=>r,upper:()=>a});let r={transform(n){let[e,t]=Object.values(n);return!!Array.isArray(e)&&e.includes(t)}},a={transform(n){let e=n[0];return"string"==typeof e?e.toUpperCase():e}}},2290:(n,e,t)=>{"use strict";t.r(e),t.d(e,{__N_SSG:()=>w,default:()=>h,markdoc:()=>g});var r=t(4232),a=t(3423),s=t(3854),o=t(9146),i=t(2665),l=t(3930),p=t(1930);let d={tags:(0,o.X)(i),nodes:(0,o.X)(l),functions:(0,o.X)(p),...(0,o.X)({})},y=new s.Ay.Tokenizer({allowComments:!0}).tokenize("---\ntitle: インストール\n---\n\n# {% $markdoc.frontmatter.title %} {% #overview %}\n\nDewyは単一のGoバイナリとして配布され、外部依存関係なしで動作します。以下の方法でインストールできます。\n\n## 事前準備\n\nDewyを使用する前に、以下の要件を満たしていることを確認してください：\n\n### システム要件\n\n- **オペレーティングシステム**: Linux, macOS, Windows\n- **アーキテクチャ**: amd64, arm64\n- **シェル**: `/bin/sh` が利用可能であること（フック実行のため）\n- **ネットワーク**: レジストリとアーティファクトストアへのアウトバウンド接続\n\n### ファイルシステム要件\n\n- **書き込み権限**: 作業ディレクトリに対する書き込み権限\n- **シンボリックリンクサポート**: `current` ポインタ作成のため\n- **一時ディレクトリ**: キャッシュストレージ用のアクセス権限\n- **ディスク容量**: 7世代分のリリース + キャッシュ用の十分な容量（通常数百MB）\n\n## インストール方法\n\n### 1. プリビルドバイナリのダウンロード（推奨）\n\n最新のリリースは [GitHub Releases](https://github.com/linyows/dewy/releases) からダウンロードできます。\n\n#### 手動ダウンロード\n\n```bash\n# 最新リリースのURLを確認\nLATEST_VERSION=$(curl -s https://api.github.com/repos/linyows/dewy/releases/latest | grep '\"tag_name\"' | cut -d '\"' -f 4)\n\n# アーキテクチャに応じたバイナリをダウンロード（Linux amd64の例）\nwget https://github.com/linyows/dewy/releases/download/${LATEST_VERSION}/dewy_linux_amd64.tar.gz\n\n# 展開とインストール\ntar -xzf dewy_linux_amd64.tar.gz\nsudo mv dewy /usr/local/bin/\nchmod +x /usr/local/bin/dewy\n```\n\n#### プラットフォーム別バイナリ\n\n| OS | Architecture | ファイル名 |\n|---|---|---|\n| Linux | amd64 | `dewy_linux_amd64.tar.gz` |\n| Linux | arm64 | `dewy_linux_arm64.tar.gz` |\n| macOS | amd64 | `dewy_darwin_amd64.tar.gz` |\n| macOS | arm64 (Apple Silicon) | `dewy_darwin_arm64.tar.gz` |\n| Windows | amd64 | `dewy_windows_amd64.zip` |\n\n### 2. ソースコードからビルド\n\nGo 1.21以上が必要です。\n\n```bash\n# リポジトリをクローン\ngit clone https://github.com/linyows/dewy.git\ncd dewy\n\n# 依存関係の取得\ngo mod download\n\n# ビルド\ngo build -o dewy\n\n# システムディレクトリにインストール\nsudo mv dewy /usr/local/bin/\n```\n\n#### 開発版のビルド\n\n```bash\n# 最新のmainブランチから直接インストール\ngo install github.com/linyows/dewy@latest\n```\n\n### 3. プロビジョニングツール\n\n本番環境での大規模展開には、以下のプロビジョニングツールを使用できます。\n\n#### Chef\n\nChef Cookbookを使用したインストール：\n\n```bash\n# Cookbookを取得\n# https://github.com/linyows/dewy-cookbook を参照\n```\n\nChef Recipeの例：\n\n```ruby\n# dewyをインストール\ndewy 'myapp' do\n  registry 'ghr://myorg/myapp'\n  notifier 'slack://deployments?title=myapp'\n  ports ['8000']\n  log_level 'info'\n  action :install\nend\n\n# systemdサービスとして設定\nsystemd_unit 'dewy-myapp.service' do\n  content <<~EOS\n    [Unit]\n    Description=Dewy - myapp deployment manager\n    After=network.target\n\n    [Service]\n    Type=simple\n    User=deploy\n    ExecStart=/usr/local/bin/dewy server --registry ghr://myorg/myapp \\\\\n              --notifier slack://deployments?title=myapp \\\\\n              --port 8000 --log-level info \\\\\n              -- /opt/myapp/current/myapp\n    Restart=always\n    RestartSec=5\n\n    [Install]\n    WantedBy=multi-user.target\n  EOS\n  action [:create, :enable, :start]\nend\n```\n\n#### Puppet\n\nPuppet Moduleを使用したインストール：\n\n```bash\n# Puppet Moduleを取得\n# https://github.com/takumakume/puppet-dewy を参照\n```\n\nPuppetマニフェストの例：\n\n```puppet\n# dewyをインストール\nclass { 'dewy':\n  version => '1.2.3',\n  install_method => 'binary',\n}\n\n# アプリケーション設定\ndewy::app { 'myapp':\n  registry => 'ghr://myorg/myapp',\n  notifier => 'slack://deployments?title=myapp',\n  ports    => ['8000'],\n  log_level => 'info',\n  command  => '/opt/myapp/current/myapp',\n  user     => 'deploy',\n  group    => 'deploy',\n}\n```\n\n## インストール確認\n\nインストールが正常に完了したか確認します：\n\n```bash\n# バージョン確認\ndewy --version\n\n# ヘルプ表示\ndewy --help\n\n# 基本的な動作確認\ndewy server --registry ghr://linyows/dewy --help\n```\n\n## 次のステップ\n\nインストールが完了したら、以下のドキュメントを参照して設定を開始してください：\n\n- [はじめに](./getting-started.md)\n- [アーキテクチャ](./architecture.md)\n- [よくある質問](./faq.md)\n\n## トラブルシューティング\n\n### 一般的な問題\n\n#### 権限エラー\n\n```bash\n# /usr/local/binに書き込み権限がない場合\nsudo chmod 755 /usr/local/bin\nsudo chown root:root /usr/local/bin/dewy\n\n# または、ユーザーディレクトリにインストール\nmkdir -p ~/bin\nmv dewy ~/bin/\necho 'export PATH=\"$HOME/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n```\n\n#### シンボリックリンクエラー\n\n```bash\n# ファイルシステムがシンボリックリンクをサポートしているか確認\nln -s /tmp/test /tmp/testlink && rm /tmp/testlink || echo \"Symlinks not supported\"\n```\n\n#### ネットワーク接続の問題\n\n```bash\n# GitHub APIへの接続確認\ncurl -s https://api.github.com/repos/linyows/dewy/releases/latest\n\n# プロキシ環境の場合\nexport HTTP_PROXY=http://proxy.example.com:8080\nexport HTTPS_PROXY=http://proxy.example.com:8080\n```\n\n### ログとデバッグ\n\n```bash\n# デバッグログを有効にして実行\ndewy server --registry ghr://owner/repo --log-level debug --log-format json\n\n# システムログの確認（systemd使用時）\njournalctl -u dewy-myapp.service -f\n```\n\n問題が解決しない場合は、[GitHub Issues](https://github.com/linyows/dewy/issues) でサポートを求めてください。"),m=s.Ay.parse(y,{slots:!1}),u=m.attributes.frontmatter?a.Ay.load(m.attributes.frontmatter):{},{components:c}=(0,o._)(d);var w=!0;let g={frontmatter:u};function h(n){let e=n.markdoc;return s.ZR.react(e.content,r,{components:{...c,...n.components}})}},2665:(n,e,t)=>{"use strict";t.r(e),t.d(e,{callout:()=>r});let r={render:t(9499).Pq,children:["paragraph","tag","list"],attributes:{type:{type:String,default:"note",matches:["tip","note","important","warning","caution"],errorLevel:"critical"},title:{type:String}}}},3534:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ja/installation",function(){return t(2290)}])},3930:(n,e,t)=>{"use strict";t.r(e),t.d(e,{fence:()=>s,heading:()=>o,table:()=>i});var r=t(3854),a=t(9499);let s={render:a.NG,attributes:r.a9.fence.attributes},o={render:a.DZ,children:["inline"],attributes:{id:{type:String},level:{type:Number,required:!0,default:1},className:{type:String}},transform(n,e){let t=n.transformAttributes(e),a=n.transformChildren(e),s=t.id&&"string"==typeof t.id?t.id:a.filter(n=>"string"==typeof n).join(" ").replace(/[?]/g,"").replace(/\s+/g,"-").toLowerCase();return new r.vw(this.render,{...t,id:s},a)}},i={render:a.XI,attributes:r.a9.table.attributes}}},n=>{n.O(0,[849,454,636,593,792],()=>n(n.s=3534)),_N_E=n.O()}]);