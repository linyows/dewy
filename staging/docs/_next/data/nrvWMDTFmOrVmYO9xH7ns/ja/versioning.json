{"pageProps":{"markdoc":{"content":{"$$mdtype":"Tag","name":"article","attributes":{},"children":[{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"overview","level":1},"children":["バージョニング"," "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyは、セマンティックバージョニングに基づいてアプリケーションの最新バージョンを自動検出し、\n継続的なデプロイメントを実現します。プリリリース版の管理も含めた包括的なバージョン管理機能を提供します。\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"overview-details","level":2},"children":["概要 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyにおけるバージョニングは、プル型デプロイメントの中核となる機能です。レジストリから取得したバージョン情報を基に、現在実行中のバージョンと比較して新しいバージョンが利用可能かを自動判定し、必要に応じて自動デプロイを実行します。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["主な特徴:"]}]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["セマンティックバージョニング（SemVer）の完全サポート"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["プリリリース版の柔軟な管理"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["複数のバージョン形式に対応（",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3"]}," / ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["1.2.3"]},"）"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["環境別のバージョン戦略をサポート"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"semantic-versioning","level":2},"children":["セマンティックバージョニング基礎 "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"version-format","level":3},"children":["バージョン形式 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyは、",{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://semver.org/lang/ja/"},"children":["Semantic Versioning 2.0.0"]},"に準拠したバージョン管理をサポートします。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["基本形式:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["MAJOR.MINOR.PATCH\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["例:"]}]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["1.2.3"]}," - バージョン1.2.3"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3"]}," - vプレフィックス付きバージョン1.2.3"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["2.0.0"]}," - メジャーバージョン2.0.0"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"バージョン番号の意味"},"children":["バージョン番号の意味"]},{"$$mdtype":"Tag","name":"Table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"th","attributes":{},"children":["種類"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["説明"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["インクリメント条件"]}]}]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["MAJOR"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["後方互換性のない変更"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["APIの破壊的変更、アーキテクチャ刷新"]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["MINOR"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["後方互換性のある機能追加"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["新機能追加、既存機能の拡張"]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["PATCH"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["後方互換性のあるバグ修正"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["バグ修正、セキュリティ修正"]}]}]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"pre-release","level":3},"children":["プリリリースバージョン "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["プリリリースバージョンは、正式リリース前のテストや評価を目的としたバージョンです。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["形式:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["MAJOR.MINOR.PATCH-<pre-release-identifier>\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["よくあるパターン:"]}]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3-alpha"]}," - アルファ版（初期テスト）"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3-beta.1"]}," - ベータ版第1版（機能完成版のテスト）"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3-rc.1"]}," - リリース候補第1版（最終確認版）"]}]},{"$$mdtype":"Tag","name":"Callout","attributes":{"type":"note","title":"プリリリース版の優先順位"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["プリリリース版は、同じMAJOR.MINOR.PATCHの正式版よりも低い優先度として扱われます。"," ","例：",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v1.2.3-rc.1 < v1.2.3"]}]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"version-detection","level":2},"children":["Dewyのバージョン検出アルゴリズム "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"comparison-rules","level":3},"children":["バージョン比較規則 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyは独自のセマンティックバージョン比較アルゴリズムを実装しています："]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["MAJOR版の比較"]}," - 数値として比較し、大きい方を優先"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["MINOR版の比較"]}," - MAJOR版が同じ場合、数値として比較"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["PATCH版の比較"]}," - MAJOR.MINORが同じ場合、数値として比較"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["プリリリース版の処理"]},":",{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["正式版 > プリリリース版"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["プリリリース版同士は文字列比較"]}]}]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"latest-version","level":3},"children":["最新バージョンの決定 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["レジストリから取得したすべてのバージョンタグに対して："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"go"},"children":["// 擬似コード\nfunc findLatest(versions []string, allowPreRelease bool) string {\n    validVersions := filterValidSemVer(versions, allowPreRelease)\n    return findMaxVersion(validVersions)\n}\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["処理フロー:"]}]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["セマンティックバージョン形式の検証"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["プリリリース設定による フィルタリング"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["数値による比較とソート"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["最大値の選択"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"registry-versioning","level":2},"children":["レジストリ別バージョン管理 "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"github-releases","level":3},"children":["GitHub Releases "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["GitHubリリースのタグ名から自動的にバージョンを検出します。"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 安定版のみ（デフォルト）\ndewy server --registry ghr://owner/repo\n\n# プリリリース版を含む\ndewy server --registry \"ghr://owner/repo?pre-release=true\"\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["グレースピリオドの考慮:"]}]},{"$$mdtype":"Tag","name":"Callout","attributes":{"type":"important","title":"CI/CD対応"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["GitHub Actionsなどでリリース作成後、アーティファクトのビルドと配置に時間がかかる場合があります。"," ","Dewyは新しいリリースについては30分間のグレースピリオドを設け、この間は「アーティファクトが見つからない」エラーを通知しません。"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"aws-s3","level":3},"children":["AWS S3 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["S3のオブジェクトパス構造からバージョンを抽出します。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["必須パス構造:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["<path-prefix>/<semver>/<artifact>\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["設定例:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["dewy server --registry \"s3://ap-northeast-1/releases/myapp?pre-release=true\"\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["S3内の配置例:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["releases/myapp/v1.2.4/myapp_linux_amd64.tar.gz\nreleases/myapp/v1.2.4/myapp_darwin_arm64.tar.gz\nreleases/myapp/v1.2.3/myapp_linux_amd64.tar.gz\nreleases/myapp/v1.2.3-rc.1/myapp_linux_amd64.tar.gz\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"google-cloud-storage","level":3},"children":["Google Cloud Storage "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Google Cloud StorageもS3と同様のパス構造でバージョン管理を行います。"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["dewy server --registry \"gs://my-bucket/releases/myapp?pre-release=false\"\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"grpc","level":3},"children":["gRPC "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["gRPCレジストリでは、サーバー側でバージョン情報を管理します。"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["dewy server --registry \"grpc://registry-server:9000\"\n"]},{"$$mdtype":"Tag","name":"Callout","attributes":{"type":"note"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["gRPCレジストリでは",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["pre-release"]},"オプションは使用できません。サーバー側の実装に依存します。"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"environment-strategies","level":2},"children":["環境別バージョン戦略 "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"production","level":3},"children":["本番環境 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["推奨設定:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 安定版のみを自動デプロイ\ndewy server --registry ghr://company/myapp \\\n  --interval 300s \\\n  --log-format json -- /opt/myapp/current/myapp\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["特徴:"]}]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["プリリリース版は除外（",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["pre-release=false"]},"）"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["長めのポーリング間隔でシステム負荷を軽減"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["構造化ログでモニタリングしやすさを優先"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"staging","level":3},"children":["ステージング環境 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["推奨設定:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# プリリリース版も含めて早期テスト\ndewy server --registry \"ghr://company/myapp?pre-release=true\" \\\n  --interval 60s \\\n  --notifier \"slack://staging-deploy?title=MyApp+Staging\" \\\n  -- /opt/myapp/current/myapp\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["特徴:"]}]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["プリリリース版を積極的に取り込み"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["短いポーリング間隔で迅速なフィードバック"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["デプロイ通知でチーム全体に共有"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"development","level":3},"children":["開発環境 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["推奨設定:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 最新の開発版を即座に反映\ndewy server --registry \"ghr://company/myapp?pre-release=true\" \\\n  --interval 30s \\\n  --log-format text -- ./current/myapp\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"best-practices","level":2},"children":["バージョン管理のベストプラクティス "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"tagging-rules","level":3},"children":["タグ付けルール "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["推奨するタグ命名規則:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 正式リリース\ngit tag v1.2.3\ngit tag v2.0.0\n\n# プリリリース\ngit tag v1.3.0-alpha\ngit tag v1.3.0-beta.1\ngit tag v1.3.0-rc.1\n\n# セキュリティ修正\ngit tag v1.2.4  # 1.2.3のセキュリティ修正版\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["避けるべきパターン:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# ❌ セマンティックバージョニングに非準拠\ngit tag release-2024-03-15\ngit tag latest\ngit tag stable\n\n# ❌ 不規則な命名\ngit tag v1.2.3-SNAPSHOT\ngit tag 1.2.3-final\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"release-strategy","level":3},"children":["リリース戦略 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["段階的リリースパターン:"]}]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["alpha"]}," - 内部開発者によるテスト"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["beta"]}," - 限定ユーザーによるテスト"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["rc"]}," (Release Candidate) - 本番環境に近い条件でのテスト"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["正式版"]}," - 本番環境への展開"]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["例:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["v2.1.0-alpha    → 開発環境\nv2.1.0-beta.1   → ステージング環境\nv2.1.0-rc.1     → ステージング環境（本番同等構成）\nv2.1.0          → 本番環境\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"configuration-patterns","level":2},"children":["設定例とパターン "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"cicd-integration","level":3},"children":["CI/CDとの連携パターン "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["GitHub Actions との連携例:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"yaml"},"children":["# .github/workflows/release.yml\nname: Release\non:\n  push:\n    tags: ['v*']\njobs:\n  release:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - name: Build and Release\n        run: |\n          make build\n          gh release create ${{ github.ref_name }} \\\n            --title \"Release ${{ github.ref_name }}\" \\\n            --generate-notes \\\n            dist/*\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["ステージング環境での自動テスト:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# プリリリース版を監視してE2Eテストを自動実行\ndewy server --registry \"ghr://company/myapp?pre-release=true\" \\\n  --after-deploy-hook \"make e2e-test\" \\\n  -- /opt/myapp/current/myapp\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"troubleshooting","level":2},"children":["トラブルシューティング "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"common-issues","level":3},"children":["よくある問題と解決方法 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["バージョンが検出されない:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# デバッグ用：利用可能なタグを確認\ncurl -s https://api.github.com/repos/owner/repo/releases \\\n  | jq -r '.[].tag_name'\n\n# ログで検出プロセスを確認\ndewy server --log-format json -l debug --registry ghr://owner/repo\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["想定外のバージョンが選択される:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# プリリリース設定の確認\ndewy server --registry \"ghr://owner/repo?pre-release=false\"  # 安定版のみ\ndewy server --registry \"ghr://owner/repo?pre-release=true\"   # プリリリース込み\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["アクセス権限の問題:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# GitHub Tokenの確認\necho $GITHUB_TOKEN | cut -c1-10  # 最初の10文字のみ表示\ngh auth status  # GitHub CLI での認証状態確認\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"datetime-tags-warning","level":3},"children":["日時ベースのタグ使用時の注意 "]},{"$$mdtype":"Tag","name":"Callout","attributes":{"type":"warning","title":"日時ベースのタグ使用時の注意"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyはタグを数値として比較するため、日時ベースのタグを使用する場合は注意が必要です。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["問題のあるパターン:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# ❌ 先頭の0が意図しない結果を招く\nv2025.0905.1005  # v2025.905.1005 として認識され、比較が正しく動作しない\nv2025.0101.0800  # v2025.101.800 として認識される\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["推奨するパターン:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# ✅ 先頭の0を除いた形式\nv2025.905.1005   # 9月5日 10時05分\nv2025.101.800    # 1月1日 8時00分\nv2025.1225.1500  # 12月25日 15時00分\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["または、セマンティックバージョニングに準拠した形式を使用してください："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# ✅ セマンティックバージョニング準拠\nv1.0.0, v1.1.0, v2.0.0\n"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"upgrade-issues","level":3},"children":["アップグレードの問題 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["メジャーバージョンアップ対応:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# データ移行を含む場合のフック活用\ndewy server --registry ghr://owner/repo \\\n  --before-deploy-hook \"scripts/migrate-data.sh\" \\\n  --after-deploy-hook \"scripts/validate-upgrade.sh\" \\\n  -- /opt/myapp/current/myapp\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["ロールバック手順:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 手動でのロールバック\ncd /opt/myapp\nrm current\nln -sf releases/20241201T120000Z current  # 前のバージョンに戻す\nsystemctl restart myapp\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"advanced-usage","level":2},"children":["高度な使用例 "]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"staged-deployment","level":3},"children":["複数環境での段階的展開 "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["開発 → ステージング → 本番の自動化:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 開発環境：すべてのプリリリースを即座にデプロイ\ndewy server --registry \"ghr://company/myapp?pre-release=true\" \\\n  --interval 30s\n\n# ステージング環境：RC版以上をデプロイ\n# （将来的な機能として、フィルタリングオプションの追加を検討）\n\n# 本番環境：安定版のみを慎重にデプロイ\ndewy server --registry \"ghr://company/myapp?pre-release=false\" \\\n  --interval 600s \\\n  --before-deploy-hook \"scripts/pre-deployment-check.sh\"\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"custom-patterns","level":3},"children":["カスタムバージョンパターン "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["現在のDewyは標準的なセマンティックバージョニングのみをサポートしていますが、"," ","将来的には企業独自の命名規則にも対応予定です。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"related","level":2},"children":["関連項目 "]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ja/registry"},"children":["レジストリ"]}," - バージョン検出元の設定と各レジストリの詳細"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ja/cache"},"children":["キャッシュ"]}," - バージョン情報とアーティファクトの保存管理"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ja/architecture"},"children":["アーキテクチャ"]}," - Dewyの全体構成とデプロイプロセス"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ja/faq"},"children":["FAQ"]}," - バージョニング関連のよくある質問"]}]}]},"frontmatter":{"title":"バージョニング","description":"Dewyは、セマンティックバージョニングに基づいてアプリケーションの最新バージョンを自動検出し、\n継続的なデプロイメントを実現します。プリリリース版の管理も含めた包括的なバージョン管理機能を提供します。\n"},"file":{"path":"/ja/versioning.md"}}},"__N_SSG":true}