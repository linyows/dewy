{"pageProps":{"markdoc":{"content":{"$$mdtype":"Tag","name":"article","attributes":{},"children":[{"$$mdtype":"Tag","name":"Heading","attributes":{"id":"overview","level":1},"children":["インストール"," "]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyは単一のGoバイナリとして配布され、外部依存関係なしで動作します。以下の方法でインストールできます。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"事前準備"},"children":["事前準備"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Dewyを使用する前に、以下の要件を満たしていることを確認してください："]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"システム要件"},"children":["システム要件"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["オペレーティングシステム"]},": Linux, macOS, Windows"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["アーキテクチャ"]},": amd64, arm64"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["シェル"]},": ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/bin/sh"]}," が利用可能であること（フック実行のため）"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["ネットワーク"]},": レジストリとアーティファクトストアへのアウトバウンド接続"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"ファイルシステム要件"},"children":["ファイルシステム要件"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["書き込み権限"]},": 作業ディレクトリに対する書き込み権限"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["シンボリックリンクサポート"]},": ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["current"]}," ポインタ作成のため"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["一時ディレクトリ"]},": キャッシュストレージ用のアクセス権限"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["ディスク容量"]},": 7世代分のリリース + キャッシュ用の十分な容量（通常数百MB）"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"インストール方法"},"children":["インストール方法"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"1.-プリビルドバイナリのダウンロード（推奨）"},"children":["1. プリビルドバイナリのダウンロード（推奨）"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["最新のリリースは ",{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://github.com/linyows/dewy/releases"},"children":["GitHub Releases"]}," からダウンロードできます。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"手動ダウンロード"},"children":["手動ダウンロード"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 最新リリースのURLを確認\nLATEST_VERSION=$(curl -s https://api.github.com/repos/linyows/dewy/releases/latest | grep '\"tag_name\"' | cut -d '\"' -f 4)\n\n# アーキテクチャに応じたバイナリをダウンロード（Linux amd64の例）\nwget https://github.com/linyows/dewy/releases/download/${LATEST_VERSION}/dewy_linux_amd64.tar.gz\n\n# 展開とインストール\ntar -xzf dewy_linux_amd64.tar.gz\nsudo mv dewy /usr/local/bin/\nchmod +x /usr/local/bin/dewy\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"プラットフォーム別バイナリ"},"children":["プラットフォーム別バイナリ"]},{"$$mdtype":"Tag","name":"Table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"th","attributes":{},"children":["OS"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Architecture"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["ファイル名"]}]}]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["Linux"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["amd64"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["dewy_linux_amd64.tar.gz"]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["Linux"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["arm64"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["dewy_linux_arm64.tar.gz"]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["macOS"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["amd64"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["dewy_darwin_amd64.tar.gz"]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["macOS"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["arm64 (Apple Silicon)"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["dewy_darwin_arm64.tar.gz"]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["Windows"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["amd64"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["dewy_windows_amd64.zip"]}]}]}]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"2.-ソースコードからビルド"},"children":["2. ソースコードからビルド"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Go 1.21以上が必要です。"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# リポジトリをクローン\ngit clone https://github.com/linyows/dewy.git\ncd dewy\n\n# 依存関係の取得\ngo mod download\n\n# ビルド\ngo build -o dewy\n\n# システムディレクトリにインストール\nsudo mv dewy /usr/local/bin/\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"開発版のビルド"},"children":["開発版のビルド"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# 最新のmainブランチから直接インストール\ngo install github.com/linyows/dewy@latest\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"3.-プロビジョニングツール"},"children":["3. プロビジョニングツール"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["本番環境での大規模展開には、以下のプロビジョニングツールを使用できます。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"chef"},"children":["Chef"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Chef Cookbookを使用したインストール："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# Cookbookを取得\n# https://github.com/linyows/dewy-cookbook を参照\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Chef Recipeの例："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"ruby"},"children":["# dewyをインストール\ndewy 'myapp' do\n  registry 'ghr://myorg/myapp'\n  notifier 'slack://deployments?title=myapp'\n  ports ['8000']\n  log_level 'info'\n  action :install\nend\n\n# systemdサービスとして設定\nsystemd_unit 'dewy-myapp.service' do\n  content <<~EOS\n    [Unit]\n    Description=Dewy - myapp deployment manager\n    After=network.target\n\n    [Service]\n    Type=simple\n    User=deploy\n    ExecStart=/usr/local/bin/dewy server --registry ghr://myorg/myapp \\\\\n              --notifier slack://deployments?title=myapp \\\\\n              --port 8000 --log-level info \\\\\n              -- /opt/myapp/current/myapp\n    Restart=always\n    RestartSec=5\n\n    [Install]\n    WantedBy=multi-user.target\n  EOS\n  action [:create, :enable, :start]\nend\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"puppet"},"children":["Puppet"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Puppet Moduleを使用したインストール："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# Puppet Moduleを取得\n# https://github.com/takumakume/puppet-dewy を参照\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Puppetマニフェストの例："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"puppet"},"children":["# dewyをインストール\nclass { 'dewy':\n  version => '1.2.3',\n  install_method => 'binary',\n}\n\n# アプリケーション設定\ndewy::app { 'myapp':\n  registry => 'ghr://myorg/myapp',\n  notifier => 'slack://deployments?title=myapp',\n  ports    => ['8000'],\n  log_level => 'info',\n  command  => '/opt/myapp/current/myapp',\n  user     => 'deploy',\n  group    => 'deploy',\n}\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"インストール確認"},"children":["インストール確認"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["インストールが正常に完了したか確認します："]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# バージョン確認\ndewy --version\n\n# ヘルプ表示\ndewy --help\n\n# 基本的な動作確認\ndewy server --registry ghr://linyows/dewy --help\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"次のステップ"},"children":["次のステップ"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["インストールが完了したら、以下のドキュメントを参照して設定を開始してください："]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"./getting-started.md"},"children":["はじめに"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"./architecture.md"},"children":["アーキテクチャ"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"./faq.md"},"children":["よくある質問"]}]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"トラブルシューティング"},"children":["トラブルシューティング"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"一般的な問題"},"children":["一般的な問題"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"権限エラー"},"children":["権限エラー"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# /usr/local/binに書き込み権限がない場合\nsudo chmod 755 /usr/local/bin\nsudo chown root:root /usr/local/bin/dewy\n\n# または、ユーザーディレクトリにインストール\nmkdir -p ~/bin\nmv dewy ~/bin/\necho 'export PATH=\"$HOME/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"シンボリックリンクエラー"},"children":["シンボリックリンクエラー"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# ファイルシステムがシンボリックリンクをサポートしているか確認\nln -s /tmp/test /tmp/testlink && rm /tmp/testlink || echo \"Symlinks not supported\"\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":4,"id":"ネットワーク接続の問題"},"children":["ネットワーク接続の問題"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# GitHub APIへの接続確認\ncurl -s https://api.github.com/repos/linyows/dewy/releases/latest\n\n# プロキシ環境の場合\nexport HTTP_PROXY=http://proxy.example.com:8080\nexport HTTPS_PROXY=http://proxy.example.com:8080\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"ログとデバッグ"},"children":["ログとデバッグ"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"bash"},"children":["# デバッグログを有効にして実行\ndewy server --registry ghr://owner/repo --log-level debug --log-format json\n\n# システムログの確認（systemd使用時）\njournalctl -u dewy-myapp.service -f\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["問題が解決しない場合は、",{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://github.com/linyows/dewy/issues"},"children":["GitHub Issues"]}," でサポートを求めてください。"]}]},"frontmatter":{"title":"インストール"},"file":{"path":"/ja/installation.md"}}},"__N_SSG":true}